(this["webpackJsonpcontext-reducer-tutorial"]=this["webpackJsonpcontext-reducer-tutorial"]||[]).push([[0],{19:function(t,e,c){},20:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c(7),a=c(4),i=c(9),s=c(2);function j(t,e){switch(e.type){case"ADD_PRODUCTS":return Object(s.a)(Object(s.a)({},t),{},{product:e.payload});case"ADD TO CART":return Object(s.a)(Object(s.a)({},t),{},{cart:[].concat(Object(i.a)(t.cart),[Object(s.a)(Object(s.a)({},e.payload),{},{qty:1})])});case"REMOVE FROM CART":return Object(s.a)(Object(s.a)({},t),{},{cart:t.cart.filter((function(t){return t.id!==e.payload.id}))});case"CHANGE_CART_QTY":return Object(s.a)(Object(s.a)({},t),{},{cart:t.cart.filter((function(t){return t.id===e.payload.id?t.qty=e.payload.qty:t.qty}))});default:return t}}var d=c(0),o=Object(n.createContext)(),l=function(t){var e=t.children,c=Object(n.useReducer)(j,{product:[],cart:[],isOpen:!1}),r=Object(a.a)(c,2),i=r[0],s=r[1];return Object(d.jsx)(o.Provider,{value:{state:i,dispatch:s},children:e})},u=c(8),O=function(){var t=Object(n.useContext)(o),e=t.state.cart,c=t.dispatch,r=Object(n.useState)(0),i=Object(a.a)(r,2),s=i[0],j=i[1],l=Object(n.useState)(1),O=Object(a.a)(l,2),b=O[0],h=O[1];Object(n.useEffect)((function(){j(e.reduce((function(t,e){return t+Number(e.price)*e.qty}),0))}),[e]);return Object(d.jsxs)("div",{className:"cart",children:[Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Title"}),Object(d.jsx)("th",{children:"Quantity"}),Object(d.jsx)("th",{children:"Price"})]})}),e.length?e.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.title}),Object(d.jsxs)("td",{className:"qty",children:[Object(d.jsx)("span",{className:"qty-button",onClick:function(){h(b+1),function(t){c({type:"CHANGE_CART_QTY",payload:{id:t.id,qty:b}})}(t)},children:"+"}),Object(d.jsx)("span",{children:t.qty}),Object(d.jsx)("span",{className:"qty-button",children:"-"})]}),Object(d.jsx)("td",{children:Math.floor(t.price)}),Object(d.jsx)("td",{children:Object(d.jsx)(u.a,{onClick:function(){c({type:"REMOVE FROM CART",payload:t})}})})]})})):"Cart is empty"]}),Object(d.jsxs)("div",{className:"price",children:[Object(d.jsx)("span",{children:"Total Price"}),Object(d.jsxs)("h3",{children:["$ ",Math.floor(s)]})]})]})},b=function(){var t=Object(n.useContext)(o),e=t.state,c=e.product,r=e.cart,a=t.dispatch;return Object(n.useEffect)((function(){fetch("https://fakestoreapi.com/products?limit=5").then((function(t){return t.json()})).then((function(t){a({type:"ADD_PRODUCTS",payload:t})}))}),[]),Object(d.jsx)("div",{className:"home",children:c.map((function(t,e){return Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:t.title}),Object(d.jsxs)("li",{children:["$",Math.floor(t.price)]}),Object(d.jsxs)("li",{children:["Ratings: ",t.rating.rate," / 5"]}),r.some((function(e){return e.id===t.id}))?Object(d.jsx)("button",{onClick:function(){a({type:"REMOVE FROM CART",payload:t})},children:"Remove from cart"}):Object(d.jsx)("button",{onClick:function(){a({type:"ADD TO CART",payload:t})},children:"Add to Cart"})]},e)}))})};c(19);function h(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{}),Object(d.jsx)(O,{})]})}var p=document.getElementById("root");Object(r.createRoot)(p).render(Object(d.jsx)(n.StrictMode,{children:Object(d.jsx)(l,{children:Object(d.jsx)(h,{})})}))}},[[20,1,2]]]);
//# sourceMappingURL=main.404bb336.chunk.js.map